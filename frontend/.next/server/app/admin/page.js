(()=>{var e={};e.id=3,e.ids=[3],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},1530:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>d.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>u,tree:()=>c});var r=t(7096),a=t(6132),i=t(7284),d=t.n(i),l=t(2564),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(s,n);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,881)),"/Users/knti/Documents/GitHub/training-video-system/frontend/src/app/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9113)),"/Users/knti/Documents/GitHub/training-video-system/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],x=["/Users/knti/Documents/GitHub/training-video-system/frontend/src/app/admin/page.tsx"],o="/admin/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7794:(e,s,t)=>{Promise.resolve().then(t.bind(t,8476))},8476:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>AdminDashboard});var r=t(784),a=t(9885),i=t(1440),d=t.n(i),l=t(2798),n=t(3141),c=t(5035);function AdminDashboard(){let[e,s]=(0,a.useState)(null),[t,i]=(0,a.useState)(!0),[x,o]=(0,a.useState)("");(0,a.useEffect)(()=>{let fetchStats=async()=>{try{let e=await c.logAPI.getStats();s(e.data)}catch(e){s({userStats:[{id:1,name:"管理者",email:"admin@example.com",completedVideos:8,totalVideos:10,progressRate:80,totalWatchedSeconds:1200},{id:2,name:"一般ユーザー",email:"user@example.com",completedVideos:5,totalVideos:10,progressRate:50,totalWatchedSeconds:800}],totalUsers:2,totalVideos:10}),o("")}finally{i(!1)}};fetchStats()},[]);let formatTime=e=>`${Math.floor(e/3600)}時間${Math.floor(e%3600/60)}分`,getProgressColor=e=>e>=80?"text-green-600 bg-green-100":e>=50?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return(0,r.jsxs)(l.Z,{requireAdmin:!0,children:[r.jsx(n.Z,{}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"管理者ダッシュボード"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"研修の進捗状況と視聴ログを管理します"})]}),t&&r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),x&&r.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:r.jsx("p",{className:"text-sm text-red-800",children:x})}),e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"card text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.totalUsers}),r.jsx("div",{className:"text-gray-600",children:"受講者数"})]}),(0,r.jsxs)("div",{className:"card text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.totalVideos}),r.jsx("div",{className:"text-gray-600",children:"総動画数"})]}),(0,r.jsxs)("div",{className:"card text-center",children:[(0,r.jsxs)("div",{className:"text-3xl font-bold text-purple-600",children:[e.userStats.length>0?Math.round(e.userStats.reduce((e,s)=>e+s.progressRate,0)/e.userStats.length):0,"%"]}),r.jsx("div",{className:"text-gray-600",children:"平均進捗率"})]})]}),(0,r.jsxs)("div",{className:"card mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"管理メニュー"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)(d(),{href:"/admin/courses",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center",children:[r.jsx("div",{className:"text-blue-600 text-2xl mb-2",children:"\uD83D\uDCDA"}),r.jsx("div",{className:"font-medium",children:"コース管理"}),r.jsx("div",{className:"text-sm text-gray-600",children:"コース・カリキュラム・動画・ファイルアップロード"})]}),(0,r.jsxs)(d(),{href:"/admin/progress",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center",children:[r.jsx("div",{className:"text-green-600 text-2xl mb-2",children:"\uD83D\uDCCA"}),r.jsx("div",{className:"font-medium",children:"進捗管理"}),r.jsx("div",{className:"text-sm text-gray-600",children:"個人・グループ別進捗確認"})]}),(0,r.jsxs)(d(),{href:"/admin/users/manage",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center",children:[r.jsx("div",{className:"text-blue-600 text-2xl mb-2",children:"\uD83D\uDC65"}),r.jsx("div",{className:"font-medium",children:"ユーザー管理"}),r.jsx("div",{className:"text-sm text-gray-600",children:"ユーザー追加・編集・削除"})]}),(0,r.jsxs)(d(),{href:"/admin/users/bulk-create",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center",children:[r.jsx("div",{className:"text-cyan-600 text-2xl mb-2",children:"\uD83D\uDCDD"}),r.jsx("div",{className:"font-medium",children:"一括ユーザー作成"}),r.jsx("div",{className:"text-sm text-gray-600",children:"CSV・手動入力でユーザー一括追加"})]}),(0,r.jsxs)(d(),{href:"/admin/videos",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center",children:[r.jsx("div",{className:"text-purple-600 text-2xl mb-2",children:"\uD83C\uDFA5"}),r.jsx("div",{className:"font-medium",children:"動画ログ"}),r.jsx("div",{className:"text-sm text-gray-600",children:"動画別視聴状況"})]}),(0,r.jsxs)(d(),{href:"/admin/reports",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center",children:[r.jsx("div",{className:"text-orange-600 text-2xl mb-2",children:"\uD83D\uDCC8"}),r.jsx("div",{className:"font-medium",children:"レポート"}),r.jsx("div",{className:"text-sm text-gray-600",children:"詳細分析・エクスポート"})]}),(0,r.jsxs)(d(),{href:"/admin/groups",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center",children:[r.jsx("div",{className:"text-indigo-600 text-2xl mb-2",children:"\uD83D\uDC65"}),r.jsx("div",{className:"font-medium",children:"グループ管理"}),r.jsx("div",{className:"text-sm text-gray-600",children:"受講者のグループ分け"})]}),(0,r.jsxs)(d(),{href:"/admin/notifications",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center",children:[r.jsx("div",{className:"text-red-600 text-2xl mb-2",children:"\uD83D\uDD14"}),r.jsx("div",{className:"font-medium",children:"通知・アラート"}),r.jsx("div",{className:"text-sm text-gray-600",children:"初回ログイン未完了ユーザー管理"})]})]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"受講者進捗一覧"}),r.jsx(d(),{href:"/admin/users",className:"text-blue-600 hover:text-blue-800 text-sm",children:"詳細を見る →"})]}),e.userStats.length>0?r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"受講者"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"進捗率"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"完了動画"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"総視聴時間"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.userStats.slice(0,10).map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),r.jsx("div",{className:"text-sm text-gray-500",children:e.email})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-1 mr-3",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${e.progressRate}%`}})})}),(0,r.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getProgressColor(e.progressRate)}`,children:[e.progressRate,"%"]})]})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.completedVideos," / ",e.totalVideos]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:formatTime(e.totalWatchedSeconds)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx(d(),{href:`/admin/users/${e.id}`,className:"text-blue-600 hover:text-blue-900",children:"詳細"})})]},e.id))})]})}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"受講者データがありません"})})]})]})]})]})}},881:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>d,__esModule:()=>i,default:()=>n});var r=t(5153);let a=(0,r.createProxy)(String.raw`/Users/knti/Documents/GitHub/training-video-system/frontend/src/app/admin/page.tsx`),{__esModule:i,$$typeof:d}=a,l=a.default,n=l}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[485,507,440,760,525,352],()=>__webpack_exec__(1530));module.exports=t})();